(function(a){if(typeof define==="function"&&define.amd){define("Sortable",[],a)}else{window.Sortable=a()}})(function(){var d,n,k,a,p,x,z,v,q,i="Sortable"+(new Date).getTime(),g=window,u=g.document,o=g.parseInt,h=false,C=(function(){function D(F,G){var E=u.createEvent("CustomEvent");E.initCustomEvent(F,G.bubbles,G.cancelable,G.detail);return E}D.prototype=g.CustomEvent.prototype;return D})(),e=function(){},w=[].slice,m=[];function c(F,D){this.el=F;this.options=D=(D||{});D.group=D.group||Math.random();D.handle=D.handle||null;D.draggable=D.draggable||F.children[0]&&F.children[0].nodeName||"li";D.ghostClass=D.ghostClass||"sortable-ghost";D.onAdd=t(this,D.onAdd||e);D.onUpdate=t(this,D.onUpdate||e);D.onRemove=t(this,D.onRemove||e);F[i]=D.group;for(var E in this){if(E.charAt(0)==="_"){this[E]=t(this,this[E])}}B(F,"add",D.onAdd);B(F,"update",D.onUpdate);B(F,"remove",D.onRemove);B(F,"mousedown",this._onTapStart);B(F,"touchstart",this._onTapStart);B(F,"dragover",this._onDragOver);B(F,"dragenter",this._onDragOver);m.push(this._onDragOver)}c.prototype={constructor:c,_applyEffects:function(){s(d,this.options.ghostClass,true)},_onTapStart:function(D){var H=D.touches&&D.touches[0],G=(H||D).target,E=this.options;if(E.handle){G=A(G,E.handle,this.el)}G=A(G,E.draggable,this.el);if(G&&!d){v=D;G.draggable=true;f(G,"a",y);f(G,"img",y);if(H){v={target:G,clientX:H.clientX,clientY:H.clientY};this._onDragStart(v,true);D.preventDefault()}else{this._onDragStart(v,false)}B(this.el,"dragend",this._onDrop);B(u,"dragover",l);try{if(u.selection){u.selection.empty()}else{window.getSelection().removeAllRanges()}}catch(F){}}},_emulateDragOver:function(){if(q){r(n,"display","none");var G=u.elementFromPoint(q.clientX,q.clientY),E=G,F=this.options.group,D=m.length;do{if(E[i]===F){while(D--){m[D]({clientX:q.clientX,clientY:q.clientY,target:G,rootEl:E})}break}}while(E=E.parentNode);r(n,"display","")}},_onTouchMove:function(E){if(v){var G=E.touches[0],F=G.clientX-v.clientX,D=G.clientY-v.clientY;q=G;r(n,"webkitTransform","translate3d("+F+"px,"+D+"px,0)")}},_onDragStart:function(E,D){var I=E.target,H=E.dataTransfer;k=this.el;d=I;a=I.nextSibling;z=this.options.group;if(D){var G=I.getBoundingClientRect(),F=r(I);n=I.cloneNode(true);r(n,"top",G.top-o(F.marginTop,10));r(n,"left",G.left-o(F.marginLeft,10));r(n,"width",G.right-G.left);r(n,"height",G.bottom-G.top);r(n,"opacity","0.8");r(n,"position","fixed");r(n,"zIndex","100000");I.parentNode.insertBefore(n,I);B(u,"touchmove",this._onTouchMove);B(u,"touchend",this._onDrop);this._loopId=setInterval(this._emulateDragOver,200)}else{H.effectAllowed="move";H.setData("Text",I.textContent);B(u,"drop",this._onDrop)}setTimeout(this._applyEffects)},_onDragOver:function(M){if(!h&&z===this.options.group&&(M.rootEl===void 0||M.rootEl===this.el)){var G=this.el,J=A(M.target,this.options.draggable,G);if(G.children.length===0){G.appendChild(d)}else{if(J&&(J!==d)){if(p!==J){p=J;x=r(J)}var K=J.getBoundingClientRect(),E=K.right-K.left,N=K.bottom-K.top,I=/left|right|inline/.test(x.cssFloat+x.display),O=(I?(M.clientX-K.left)/E:(M.clientY-K.top)/N)>0.5,L=(J.offsetHeight>d.offsetHeight),F=(J.offsetWidth>d.offsetWidth),H=J.nextSibling,D;h=true;setTimeout(j,30);if(I){D=(J.previousElementSibling===d)&&!F||(O>0.5)&&F}else{D=(J.nextElementSibling!==d)&&!L||(O>0.5)&&L}if(D&&!H){G.appendChild(d)}else{J.parentNode.insertBefore(d,D?H:J)}}}}},_onDrop:function(D){clearInterval(this._loopId);b(u,"drop",this._onDrop);b(u,"dragover",l);b(this.el,"dragend",this._onDrop);b(this.el,"dragstart",this._onDragStart);b(u,"touchmove",this._onTouchMove);b(u,"touchend",this._onDrop);if(D){D.preventDefault();if(n){n.parentNode.removeChild(n)}if(d){var E={bubbles:true,cancelable:true,detail:d};s(d,this.options.ghostClass,false);if(!k.contains(d)){k.dispatchEvent(new C("remove",E));d.dispatchEvent(new C("add",E))}else{if(d.nextSibling!==a){d.dispatchEvent(new C("update",E))}}}k=d=n=a=v=q=p=x=z=null}},destroy:function(){var E=this.el,D=this.options;b(E,"add",D.onAdd);b(E,"update",D.onUpdate);b(E,"remove",D.onRemove);b(E,"mousedown",this._onTapStart);b(E,"touchstart",this._onTapStart);b(E,"dragover",this._onDragOver);b(E,"dragenter",this._onDragOver);m.splice(m.indexOf(this._onDragOver),1);this._onDrop();this.el=null}};function t(D,F){var E=w.call(arguments,2);return F.bind?F.bind.apply(F,[D].concat(E)):function(){return F.apply(D,E.concat(w.call(arguments)))}}function A(H,E,F){if(H&&F){F=F||u;E=E.split(".");var D=E.shift().toUpperCase(),G=new RegExp("\\b("+E.join("|")+")\\b","g");do{if((D===""||H.nodeName==D)&&(!E.length||((H.className+"").match(G)||[]).length==E.length)){return H}}while(H!==F&&(H=H.parentNode))}return null}function l(D){D.dataTransfer.dropEffect="move";D.preventDefault()}function B(E,F,D){E.addEventListener(F,D,false)}function b(E,F,D){E.removeEventListener(F,D,false)}function s(F,D,G){if(F){if(F.classList){F.classList[G?"add":"remove"](D)}else{var E=(" "+F.className+" ").replace(/\s+/g," ").replace(" "+D+" ","");F.className=E+(G?" "+D:"")}}}function r(D,F,E){if(D&&D.style){if(E===void 0){if(u.defaultView&&u.defaultView.getComputedStyle){E=u.defaultView.getComputedStyle(D,"")}else{if(D.currentStyle){E=D.currentStyle}}return F===void 0?E:E[F]}else{D.style[F]=E+(typeof E==="string"?"":"px")}}}function f(D,F,G){if(D){var H=D.getElementsByTagName(F),E=0,I=H.length;if(G){for(;E<I;E++){G(H[E],E)}}return H}return[]}function y(D){return D.draggable=false}function j(){h=false}c.utils={on:B,off:b,css:r,find:f,bind:t,closest:A,toggleClass:s};c.version="0.1.1";return c});